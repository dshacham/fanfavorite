(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){e.exports=a(80)},45:function(e,t,a){},46:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(2),l=a.n(c),r=a(5),i=a(1),o=a(7),u=a(8),m=(a(45),Object(n.createContext)(null)),p=(a(46),a(3)),d=a(4),f=function(){var e=Object(n.useContext)(m).loggedIn;return s.a.createElement("nav",{className:"nav"},e?s.a.createElement("div",{className:"logged-in-container"},s.a.createElement("div",{className:"titles"},s.a.createElement(o.NavLink,{to:"/",className:"logo"},s.a.createElement("h1",null,"FanFavorite")),s.a.createElement("h2",{className:"h2-loggedin-out"},"All your faves in one place")),s.a.createElement("div",{className:"acc-signout-container"},s.a.createElement(o.NavLink,{to:"account"},s.a.createElement(p.a,{className:"icon-acc",title:"account",icon:d.i})),s.a.createElement("p",{className:"acc-text"},"Account"))):s.a.createElement("div",{className:"not-logged-container"},s.a.createElement("div",{className:"titles"},s.a.createElement(o.NavLink,{to:"/",className:"logo"},s.a.createElement("h1",null,"FanFavorite")),s.a.createElement("h2",{className:"h2-loggedin-out"},"All your faves in one place")),s.a.createElement("div",{className:"acc-signout-container"},s.a.createElement(o.NavLink,{to:"signup"},s.a.createElement(p.a,{className:"icon-signup",title:"sign up",icon:d.j})),s.a.createElement("p",{className:"icon-text"},"sign up"))))},E=(a(53),a(23)),b=function(){return s.a.createElement("footer",null,s.a.createElement("p",null,"Contact:"),s.a.createElement("div",{className:"footer-contact"},s.a.createElement("a",{href:"mailto: fanfavorite.100@gmail.com"},s.a.createElement(p.a,{className:"icon",title:"email me",icon:d.c})),s.a.createElement("a",{href:"https://twitter.com/GhostLoveSc0re",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(p.a,{className:"icon",title:"twitter",icon:E.b})),s.a.createElement("a",{href:"https://tvfreakd.tumblr.com/",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(p.a,{className:"icon",title:"tumblr",icon:E.a}))),s.a.createElement("div",{className:"name-help"},s.a.createElement("p",{className:"footer-name"},"\xa9FanFavorite2020"),s.a.createElement(o.Link,{to:"/about"},s.a.createElement(p.a,{className:"icon",title:"about",icon:d.e}))))},h=(a(54),function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.setUserData,c=t.setToken,p=t.setLoggedIn,d=t.loggedIn,f=t.setUserFicLists,E=t.setUserEpLists,b=Object(n.useState)(""),h=Object(i.a)(b,2),N=h[0],v=h[1],g=Object(n.useState)(""),O=Object(i.a)(g,2),j=O[0],y=O[1],w=Object(n.useState)(!1),k=Object(i.a)(w,2),S=k[0],x=k[1];Object(n.useEffect)((function(){window.scrollTo(0,0),f(""),E("")}),[f,E]);var C=function(){var e=Object(r.a)(l.a.mark((function e(t){var n,s,r,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:N,password:j},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("/users/login",s);case 5:return r=e.sent,e.next=8,r.json();case 8:i=e.sent,o=r.headers.get("x-auth"),i.success?(localStorage.setItem("token",o),c(o),a(i.user),p(!0),x(!1)):x(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d&&e.push("/account")})),s.a.createElement("div",{className:"homepage-container"},s.a.createElement("div",{className:"landing"},s.a.createElement("form",{className:"login-form",onSubmit:C},s.a.createElement("h2",{className:"h2-login"},"Login"),s.a.createElement("label",{className:"login-label"},"Email",s.a.createElement("input",{className:"login-input",type:"email",value:N,required:!0,onChange:function(e){return v(e.target.value)}})),s.a.createElement("label",{className:"login-label"},"Password",s.a.createElement("input",{className:"login-input",type:"password",value:j,required:!0,onChange:function(e){return y(e.target.value)}})),s.a.createElement("p",{className:S?"signin-error show-error":"signin-error"},"Email or password incorrect"),s.a.createElement("button",{type:"submit",className:"button sign-btn"},"GO"),s.a.createElement(o.Link,{to:"reset_password",className:"pass-forgot"},"Forgot password?"))))}),N=(a(55),function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.setUserData,c=t.setToken,p=t.loggedIn,d=t.setLoggedIn,f=Object(n.useState)(""),E=Object(i.a)(f,2),b=E[0],h=E[1],N=Object(n.useState)(""),v=Object(i.a)(N,2),g=v[0],O=v[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),w=y[0],k=y[1],S=Object(n.useState)(""),x=Object(i.a)(S,2),C=x[0],T=x[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var L=function(){var e=Object(r.a)(l.a.mark((function e(t){var n,s,r,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w!==C){e.next=15;break}return n={username:b,email:g,password:w},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=6,fetch("/users",s);case 6:return r=e.sent,i=r.headers.get("x-auth"),e.next=10,r.json();case 10:(o=e.sent).success?(localStorage.setItem("token",i),c(i),a(o.user),d(!0)):window.alert(Object.values(o.message[0])),e.next=16;break;case 15:window.alert("Password doesnn't match");case 16:case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p&&e.push("/account")})),s.a.createElement("div",{className:"signup-container"},s.a.createElement("form",{className:"signup-form",onSubmit:L},s.a.createElement("h2",{className:"h2-signup"},"SIGN UP"),s.a.createElement("label",{className:"signup-label"},"Username *",s.a.createElement("input",{className:"signup-input",type:"username",value:b,required:!0,onChange:function(e){return h(e.target.value)}})),s.a.createElement("label",{className:"signup-label"},"Email *",s.a.createElement("input",{className:"signup-input",type:"email",value:g,required:!0,onChange:function(e){return O(e.target.value)}})),s.a.createElement("label",{className:"signup-label"},"Password *",s.a.createElement("input",{className:"signup-input",type:"password",value:w,required:!0,onChange:function(e){return k(e.target.value)}})),s.a.createElement("label",{className:"signup-label"},"Confirm Password *",s.a.createElement("input",{className:"signup-input",type:"password",value:C,required:!0,onChange:function(e){return T(e.target.value)}})),s.a.createElement("h5",{className:"h5-signup"}," * Required fields "),s.a.createElement("button",{type:"submit",className:"button sign-btn"},"GO"),s.a.createElement(o.Link,{to:"/",className:"already-registered"},"Already registered?")))}),v=(a(56),a(27),function(e){var t=e.el,a=e.setIsFicListClicked,c=Object(n.useContext)(m).setListInfo;return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){c(t),localStorage.setItem("list-info",JSON.stringify(t)),a(!0)},className:"to-list"},t.listFandom))}),g=function(e){var t=e.el,a=e.setIsEpListClicked,c=Object(n.useContext)(m).setListInfo;return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){c(t),localStorage.setItem("list-info",JSON.stringify(t)),a(!0)},className:"to-list"},t.listFandom))},O=function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.setLoggedIn,c=t.getUserData,f=t.userData,E=t.setUserData,b=t.setListInfo,h=t.token,N=t.userFicLists,O=t.userEpLists,j=Object(n.useState)(!1),y=Object(i.a)(j,2),w=y[0],k=y[1],S=Object(n.useState)(!1),x=Object(i.a)(S,2),C=x[0],T=x[1],L=Object(n.useState)(!1),F=Object(i.a)(L,2),I=F[0],D=F[1],A=Object(n.useState)(!1),U=Object(i.a)(A,2),P=U[0],H=U[1],J=Object(n.useState)(""),R=Object(i.a)(J,2),_=R[0],q=R[1],G=Object(n.useState)(""),M=Object(i.a)(G,2),W=M[0],Y=M[1],B=Object(n.useState)(""),V=Object(i.a)(B,2),K=V[0],Q=V[1],z=Object(n.useState)(!1),X=Object(i.a)(z,2),Z=X[0],$=X[1];Object(n.useEffect)((function(){window.scrollTo(0,0),c(),b("")}),[]);var ee=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,c,r,i,o,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=f.email,n=f.password,s=f.ficLists,c=f.epsLists,r=f.fics,i=f.eps,o={username:_,email:a,password:n,ficLists:s,epsLists:c,fics:r,eps:i},u={method:"PUT",headers:{"Content-Type":"application/json","x-auth":h},body:JSON.stringify(o)},e.next=6,fetch("/users/username",u);case 6:return m=e.sent,e.next=9,m.json();case 9:(p=e.sent).success?(E(p.user),D(!1)):window.alert(Object.values(p.message[0]));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,c,r,i,o,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=f.username,n=f.email,s=f.ficLists,c=f.epsLists,r=f.fics,i=f.eps,W!==K){e.next=15;break}return o={username:a,email:n,password:W,ficLists:s,epsLists:c,fics:r,eps:i},u={method:"PUT",headers:{"Content-Type":"application/json","x-auth":h},body:JSON.stringify(o)},e.next=7,fetch("/users/password",u);case 7:return m=e.sent,e.next=10,m.json();case 10:(p=e.sent).success?(E(p.user),H(!1)):window.alert(Object.values(p.message[0])),e.next=16;break;case 15:window.alert("Password doesn't match.");case 16:case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(r.a)(l.a.mark((function e(t){var n,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"DELETE",headers:{"x-auth":h}},e.next=4,fetch("/users/"+f._id,n);case 4:return s=e.sent,e.next=7,s.json();case 7:c=e.sent,console.log(c),c.success&&($(!0),a(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){w&&e.push("/ficlist"),C&&e.push("/eplist"),Z&&e.push("/")})),s.a.createElement("div",{className:"account-container"},s.a.createElement("div",{className:"personal-account slide-from-left"},I?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"personal-info"},s.a.createElement("form",{onSubmit:ee,className:"edit-username-form"},s.a.createElement("div",{className:"username-labels-container"},s.a.createElement("label",{htmlFor:"username",className:"edit-label"},s.a.createElement("input",{type:"text",placeholder:"New username...",onChange:function(e){return q(e.target.value)}}))),s.a.createElement("div",{className:"save-cancel-container"},s.a.createElement("button",{type:"submit",className:"save-btn"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"approve",icon:d.a})),s.a.createElement("button",{type:"text",className:"cancel-btn",onClick:function(){return D(!1)}},s.a.createElement(p.a,{className:"icon-ch-ca",title:"cancel",icon:d.g})))))):P?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"personal-info"},s.a.createElement("form",{onSubmit:te,className:"edit-pass-form"},s.a.createElement("div",{className:"password-labels-container"},s.a.createElement("label",{htmlFor:"password",className:"edit-label"},s.a.createElement("input",{type:"password",className:"input-pass",placeholder:"New password...",onChange:function(e){return Y(e.target.value)}})),s.a.createElement("label",{htmlFor:"confirmPassword",className:"edit-label"},s.a.createElement("input",{type:"password",className:"input-pass",placeholder:"Confirm password...",onChange:function(e){return Q(e.target.value)}}))),s.a.createElement("div",{className:"save-cancel-container"},s.a.createElement("button",{type:"submit",className:"save-btn"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"approve",icon:d.a})),s.a.createElement("button",{type:"text",className:"cancel-btn",onClick:function(){return H(!1)}},s.a.createElement(p.a,{className:"icon-ch-ca",title:"cancel",icon:d.g})))))):s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"personal-info"},f&&f.username?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"greetings"},s.a.createElement("p",{className:"label-name"},"Hello, ",s.a.createElement("span",{className:"info"},f&&f.username),"!"),s.a.createElement("p",{className:"label-email"},f&&f.email)),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"edit-btn edit-btn-one",onClick:function(){return D(!0)}},"EDIT USERNAME"),s.a.createElement("button",{className:"edit-btn",onClick:function(){return H(!0)}},"EDIT PASSWORD"),s.a.createElement("button",{className:"delete-btn",onClick:function(e){window.confirm("Deleting your account will delete all of your lists. \n\nAre you sure you want to continue?")&&(localStorage.clear(),ae(e))}},"DELETE ACCOUNT"),s.a.createElement(o.Link,{to:"/"},s.a.createElement("button",{className:"signout-btn",onClick:function(){localStorage.clear(),a(!1)}},"SIGN OUT")))):s.a.createElement("div",{className:"loading-acc"},s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"}))))),s.a.createElement("div",{className:"personal-lists slide-from-right"},s.a.createElement("div",{className:"fic-list-container"},s.a.createElement("h3",{className:"lists-title"},"Fan Fiction Lists"),s.a.createElement(o.Link,{to:"addficlist",className:"add-list"},"+ ADD LIST"),N&&N.length?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"list-item-title"},N.map((function(e,t){return s.a.createElement(v,{className:"list-card",key:t,setIsFicListClicked:k,el:e})})))):N&&0===N.length?s.a.createElement(n.Fragment,null,s.a.createElement("p",{className:"no-lists"},"You haven't added any lists.")):s.a.createElement("div",{className:"loading-details"},s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"}))),s.a.createElement("div",{className:"eps-list-container"},s.a.createElement("h3",{className:"lists-title"},"Episodes Lists"),s.a.createElement(o.Link,{to:"addepslist",className:"add-list"},"+ ADD LIST"),O&&O.length?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"list-item-title"},O.map((function(e,t){return s.a.createElement(g,{className:"list-card",key:t,setIsEpListClicked:T,el:e})})))):O&&0===O.length?s.a.createElement(n.Fragment,null,s.a.createElement("p",{className:"no-lists"},"You haven't added any lists.")):s.a.createElement("div",{className:"loading-details"},s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"})))))},j=(a(28),function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.userData,c=t.setUserData,o=t.token,p=t.setListInfo,d=Object(n.useState)(""),f=Object(i.a)(d,2),E=f[0],b=f[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),v=N[0],g=N[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var O=function(){var e=Object(r.a)(l.a.mark((function e(t){var n,s,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={listFandom:E,listType:"fanfiction",userId:a._id},s={method:"POST",headers:{"Content-Type":"application/json","x-auth":o},body:JSON.stringify(n)},e.next=5,fetch("/ficlists",s);case 5:return r=e.sent,e.next=8,r.json();case 8:(i=e.sent).success&&(c(i.user),p(i.ficList),localStorage.setItem("list-info",JSON.stringify(i.ficList)),g(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v&&e.push("/ficlist")})),s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{className:"list-form",onSubmit:O},s.a.createElement("h2",{className:"h2-list"},"CREATE A FAN FICTION LIST"),s.a.createElement("label",{className:"list-label"},"Fandom *",s.a.createElement("input",{className:"list-input",type:"text",value:E,required:!0,onChange:function(e){return b(e.target.value)}})),s.a.createElement("button",{className:"list-btn",type:"submit"},"CONTINUE")))}),y=function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.userData,c=t.setUserData,o=t.token,p=t.setListInfo,d=Object(n.useState)(""),f=Object(i.a)(d,2),E=f[0],b=f[1],h=Object(n.useState)(!1),N=Object(i.a)(h,2),v=N[0],g=N[1];Object(n.useEffect)((function(){window.scrollTo(0,0),p("")}),[]);var O=function(){var e=Object(r.a)(l.a.mark((function e(t){var n,s,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={listFandom:E,listType:"episodes",userId:a._id},s={method:"POST",headers:{"Content-Type":"application/json","x-auth":o},body:JSON.stringify(n)},e.next=5,fetch("/eplists",s);case 5:return r=e.sent,e.next=8,r.json();case 8:(i=e.sent).success&&(c(i.user),localStorage.setItem("list-info",JSON.stringify(i.epList)),g(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v&&e.push("/eplist")})),s.a.createElement("div",{className:"form-container"},s.a.createElement("form",{className:"list-form",onSubmit:O},s.a.createElement("h2",{className:"h2-list"},"CREATE AN EPISODE LIST"),s.a.createElement("label",{className:"list-label"},"Fandom *",s.a.createElement("input",{className:"list-input",type:"text",value:E,required:!0,onChange:function(e){return b(e.target.value)}})),s.a.createElement("button",{className:"list-btn",type:"submit"},"CONTINUE")))},w=a(10),k=(a(29),a(30),function(e){var t=e.fic,a=Object(n.useContext)(m),c=a.listInfo,o=a.setListInfo,u=a.token,f=Object(n.useState)(!1),E=Object(i.a)(f,2),b=E[0],h=E[1],N=Object(n.useState)(""),v=Object(i.a)(N,2),g=v[0],O=v[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),k=y[0],S=y[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),T=C[0],L=C[1],F=Object(n.useState)(""),I=Object(i.a)(F,2),D=I[0],A=I[1],U=Object(n.useState)(""),P=Object(i.a)(U,2),H=P[0],J=P[1],R=Object(n.useState)(""),_=Object(i.a)(R,2),q=_[0],G=_[1],M=Object(n.useState)(""),W=Object(i.a)(M,2),Y=W[0],B=W[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){(function(){var e=Object(r.a)(l.a.mark((function e(){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-auth":u}},e.next=3,fetch("/fanfics/"+t,a);case 3:return n=e.sent,e.next=6,n.json();case 6:(s=e.sent).fic&&O(s.fic);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,t,u]);var V=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,c,r,i,m,p,d,f,E,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=g.title,s=g.author,c=g.ship,r=g.genre,i=g.description,m=g.source,p=g.listId,d={title:""===k?n:k,author:""===T?s:T,ship:""===D?c:D,genre:""===H?r:H,description:""===q?i:q,source:""===Y?m:Y,listId:p},f={method:"PUT",headers:{"Content-Type":"application/json","x-auth":u},body:JSON.stringify(d)},e.next=6,fetch("/fanfics/"+t,f);case 6:return E=e.sent,e.next=9,E.json();case 9:(b=e.sent).success&&(o(b.ficList),h(!1));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={method:"DELETE",headers:{"x-auth":u}},e.next=4,fetch("/fanfics/"+t,n);case 4:return s=e.sent,e.next=7,s.json();case 7:(r=e.sent).success&&(o(r.ficList),localStorage.setItem("list-info",JSON.stringify(c)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:w.isMobile?"item-cards-container-mobile":"item-cards-container-desktop"},b?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"item-edit-form"},s.a.createElement("form",{onSubmit:V,className:"item-edit-form"},s.a.createElement("div",{className:"ok-cancel"},s.a.createElement("button",{type:"submit",className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"approve",icon:d.a})),s.a.createElement("button",{className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"cancel",icon:d.g,onClick:function(){return h(!1)}}))),s.a.createElement("div",{className:"form-fields"},s.a.createElement("label",{htmlFor:"title",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.title,onChange:function(e){return S(e.target.value)}})),s.a.createElement("label",{htmlFor:"author",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.author,onChange:function(e){return L(e.target.value)}})),s.a.createElement("label",{htmlFor:"ship",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.ship,onChange:function(e){return A(e.target.value)}})),s.a.createElement("label",{htmlFor:"genre",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.genre,onChange:function(e){return J(e.target.value)}})),s.a.createElement("label",{htmlFor:"description",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.description,onChange:function(e){return G(e.target.value)}})),s.a.createElement("label",{htmlFor:"source",className:"item-edit-label"},s.a.createElement("input",{type:"text",placeholder:g.source,onChange:function(e){return B(e.target.value)}})))))):g?s.a.createElement(n.Fragment,null,s.a.createElement("ul",{className:"item-card"},s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Title: "),g.title),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Author: "),g.author),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Ship: "),g.ship),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Genre: "),g.genre),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Description: "),g.description),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Source: "),s.a.createElement("a",{href:g.source,target:"_blank",rel:"noopener noreferrer"},"Link"))),s.a.createElement("div",{className:"item-edit-delete"},s.a.createElement(p.a,{className:"icon-ed-de",title:"edit",icon:d.d,onClick:function(){return h(!0)}}),s.a.createElement(p.a,{className:"icon-ed-de",title:"delete",icon:d.h,onClick:function(e){window.confirm("Are you sure you want to delete item from list?")&&K(e)}}))):s.a.createElement("div",{className:"loading-details"},s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"})))}),S=function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.listInfo,c=t.setListInfo,o=t.getUserData,f=t.userData,E=t.setUserData,b=t.token,h=Object(n.useState)(!1),N=Object(i.a)(h,2),v=N[0],g=N[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),y=j[0],S=j[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),T=C[0],L=C[1],F=Object(n.useState)(""),I=Object(i.a)(F,2),D=I[0],A=I[1],U=Object(n.useState)(""),P=Object(i.a)(U,2),H=P[0],J=P[1],R=Object(n.useState)(""),_=Object(i.a)(R,2),q=_[0],G=_[1],M=Object(n.useState)(""),W=Object(i.a)(M,2),Y=W[0],B=W[1],V=Object(n.useState)(""),K=Object(i.a)(V,2),Q=K[0],z=K[1],X=Object(n.useState)(""),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ae=Object(i.a)(te,2),ne=ae[0],se=ae[1],ce=Object(n.useState)(""),le=Object(i.a)(ce,2),re=le[0],ie=le[1];Object(n.useEffect)((function(){window.scrollTo(0,0),o();var e=localStorage.getItem("list-info");e&&c(JSON.parse(e))}),[]),Object(n.useEffect)((function(){a.ficList?L(a.ficList.listFandom):L(a.listFandom),a.ficList?se(a.ficList._id):se(a._id)}));var oe=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:D,author:H,ship:q,genre:Y,description:Q,source:$,listId:ne,userId:f._id},n={method:"POST",headers:{"Content-Type":"application/json","x-auth":b},body:JSON.stringify(a)},e.next=5,fetch("/fanfics",n);case 5:return s=e.sent,e.next=8,s.json();case 8:(r=e.sent).success&&(c(r.ficList),localStorage.setItem("list-info",JSON.stringify(r.ficList)),A(""),J(""),G(""),B(""),z(""),ee(""));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={listFandom:""===re?T:re,listType:"fanfiction"},n={method:"PUT",headers:{"Content-Type":"application/json","x-auth":b},body:JSON.stringify(a)},e.next=5,fetch("/ficlists/"+ne,n);case 5:return s=e.sent,e.next=8,s.json();case 8:(r=e.sent).success&&(c(r.ficList),S(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"DELETE",headers:{"x-auth":b}},e.next=4,fetch("/ficlists/"+ne,a);case 4:return n=e.sent,e.next=7,n.json();case 7:(s=e.sent).success&&(E(s.ficLists),localStorage.removeItem("list-info"),g(!0));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v&&e.push("/account")})),s.a.createElement("div",{className:"list-data-container"},s.a.createElement("div",{className:"list-details slide-from-left"},a&&y?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"list-edit-form"},s.a.createElement("form",{onSubmit:ue,className:"list-edit-form"},s.a.createElement("div",{className:w.isMobile?"ok-cancel-mobile":"ok-cancel"},s.a.createElement("button",{type:"submit",className:"list-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.a})),s.a.createElement("button",{className:"list-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.g,onClick:function(){return S(!1)}}))),s.a.createElement("label",{htmlFor:"listFandom",className:w.isMobile?"margin list-edit-label":"list-edit-label"},"Fandom:",s.a.createElement("input",{type:"text",placeholder:T,onChange:function(e){return ie(e.target.value)}}))))):a?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:w.isMobile?"list-edit-delete-mobile":"list-edit-delete"},s.a.createElement(p.a,{className:"icon-ed-de",title:"edit",icon:d.d,onClick:function(){return S(!0)}}),s.a.createElement(p.a,{className:"icon-ed-de",title:"delete",icon:d.h,onClick:function(e){window.confirm("Are you sure you want to delete item from list?")&&me(e)}})),s.a.createElement("h2",{className:w.isMobile?"list-h2-mobile":"list-h2"},s.a.createElement("span",{className:"list-title"},"Fan Fiction List:")," ",T)):null,s.a.createElement("div",{className:"list-items-container"},a&&a.fics?a.fics.map((function(e,t){return s.a.createElement(k,{key:t,fic:e})})):a&&a.ficList.fics?a.ficList.fics.map((function(e,t){return s.a.createElement(k,{key:t,fic:e})})):null)),s.a.createElement("div",{className:"item-form-container slide-from-right"},s.a.createElement("form",{className:"item-form",onSubmit:oe},s.a.createElement("h2",{className:"h2-item"},"ADD TO THE LIST"),s.a.createElement("label",{className:"item-label"},"Title *",s.a.createElement("input",{className:"item-input",type:"text",value:D,required:!0,onChange:function(e){return A(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Author *",s.a.createElement("input",{className:"item-input",type:"text",value:H,required:!0,onChange:function(e){return J(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Ship *",s.a.createElement("input",{className:"item-input",type:"text",value:q,required:!0,onChange:function(e){return G(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Genre",s.a.createElement("input",{className:"item-input",type:"text",value:Y,onChange:function(e){return B(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Description",s.a.createElement("input",{className:"item-input",type:"text",value:Q,onChange:function(e){return z(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Source *",s.a.createElement("input",{className:"item-input",type:"text",value:$,required:!0,onChange:function(e){return ee(e.target.value)}})),s.a.createElement("h5",{className:"h5-item"},"* Required Fields"),s.a.createElement("button",{className:"item-btn",type:"submit"},"ADD"))))},x=function(e){var t=e.ep,a=Object(n.useContext)(m),c=a.setListInfo,o=a.token,u=Object(n.useState)(!1),f=Object(i.a)(u,2),E=f[0],b=f[1],h=Object(n.useState)(""),N=Object(i.a)(h,2),v=N[0],g=N[1],O=Object(n.useState)(""),j=Object(i.a)(O,2),y=j[0],k=j[1],S=Object(n.useState)(""),x=Object(i.a)(S,2),C=x[0],T=x[1],L=Object(n.useState)(""),F=Object(i.a)(L,2),I=F[0],D=F[1],A=Object(n.useState)(""),U=Object(i.a)(A,2),P=U[0],H=U[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var J=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,r,i,u,m,p,d,f,E,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=t.listFandom,s=t.title,r=t.season,i=t.number,u=t.whyFave,m=t.source,p=t.listId,d={listFandom:n,title:""===v?s:v,season:""===y?r:y,number:""===C?i:C,whyFave:""===I?u:I,source:""===P?m:P,listId:p},f={method:"PUT",headers:{"Content-Type":"application/json","x-auth":o},body:JSON.stringify(d)},e.next=6,fetch("/episodes/"+t._id,f);case 6:return E=e.sent,e.next=9,E.json();case 9:(h=e.sent).success&&(c(h.epList),b(!1),localStorage.setItem("list-info",JSON.stringify(h.epList)));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={method:"DELETE",headers:{"x-auth":o}},e.next=4,fetch("/episodes/"+t._id,n);case 4:return s=e.sent,e.next=7,s.json();case 7:(r=e.sent).success&&c(r.epList);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:w.isMobile?"item-cards-container-mobile":"item-cards-container-desktop"},E?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"item-edit-form"},s.a.createElement("form",{onSubmit:J,className:"item-edit-form"},s.a.createElement("div",{className:"ok-cancel"},s.a.createElement("button",{type:"submit",className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.a})),s.a.createElement("button",{className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.g,onClick:function(){return b(!1)}}))),s.a.createElement("div",{className:"form-fields"},s.a.createElement("label",{htmlFor:"title",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.title,onChange:function(e){return g(e.target.value)}})),s.a.createElement("label",{htmlFor:"author",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.season,onChange:function(e){return k(e.target.value)}})),s.a.createElement("label",{htmlFor:"ship",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.number,onChange:function(e){return T(e.target.value)}})),s.a.createElement("label",{htmlFor:"genre",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.whyFave,onChange:function(e){return D(e.target.value)}})),s.a.createElement("label",{htmlFor:"source",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.source,onChange:function(e){return H(e.target.value)}})))))):t?s.a.createElement(n.Fragment,null,s.a.createElement("ul",{className:"item-card"},s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Title: "),t.title),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Season: "),t.season),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Number: "),t.number),t.whyFave?s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Why is it a fave?: "),t.whyFave):null,t.source?s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Link to info: "),s.a.createElement("a",{href:t.source,target:"_blank",rel:"noopener noreferrer"},"Link")):null),s.a.createElement("div",{className:"item-edit-delete"},s.a.createElement(p.a,{className:"icon-ed-de",title:"edit",icon:d.d,onClick:function(){return b(!0)}}),s.a.createElement(p.a,{className:"icon-ed-de",title:"delete",icon:d.h,onClick:function(e){window.confirm("Are you sure you want to delete item from list?")&&R(e)}}))):s.a.createElement("div",{className:"loading-details"},s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"})))},C=function(){var e=Object(u.k)(),t=Object(n.useContext)(m),a=t.listInfo,c=t.setListInfo,o=t.userData,f=t.setUserData,E=t.token,b=(t.getUserData,Object(n.useState)(!1)),h=Object(i.a)(b,2),N=h[0],v=h[1],g=Object(n.useState)(!1),O=Object(i.a)(g,2),j=O[0],y=O[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),C=S[0],T=S[1],L=Object(n.useState)(""),F=Object(i.a)(L,2),I=F[0],D=F[1],A=Object(n.useState)(""),U=Object(i.a)(A,2),P=U[0],H=U[1],J=Object(n.useState)(""),R=Object(i.a)(J,2),_=R[0],q=R[1],G=Object(n.useState)(""),M=Object(i.a)(G,2),W=M[0],Y=M[1],B=Object(n.useState)(""),V=Object(i.a)(B,2),K=V[0],Q=V[1],z=Object(n.useState)(""),X=Object(i.a)(z,2),Z=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],se=[],ce=Object(n.useState)([]),le=Object(i.a)(ce,2),re=le[0],ie=le[1];Object(n.useEffect)((function(){window.scrollTo(0,0);var e=localStorage.getItem("list-info");e&&c(JSON.parse(e))}),[]),Object(n.useEffect)((function(){a.epList?T(a.epList.listFandom):T(a.listFandom),a.epList?$(a.epList._id):$(a._id)}),[a.epList,a.listFandom,a._id]);var oe=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","x-auth":E}},a.eps&&a.eps.map(function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/episodes/"+a,t);case 2:return n=e.sent,e.next=5,n.json();case 5:(s=e.sent).ep&&se.push(s.ep),ie(se);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();re&&re.sort((function(e,t){var a=e.season,n=t.season,s=e.number,c=t.number,l=0;return a>n?l=1:a<n?l=-1:a===n&&s>c?l=1:a===n&&s<c&&(l=-1),l}));var ue=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:I,season:P,number:_,whyFave:W,source:K,listId:Z,userId:o._id},n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-auth":E},body:JSON.stringify(a)},e.next=5,fetch("/episodes",n);case 5:return s=e.sent,e.next=8,s.json();case 8:(r=e.sent).success&&(c(r.epList),localStorage.setItem("list-info",JSON.stringify(r.epList)),localStorage.setItem("list-items",JSON.stringify(r.epList.eps)),D(""),H(""),q(""),Y(""),Q(""));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={listFandom:""===ae?C:ae,listType:"episodes"},n={method:"PUT",headers:{"Content-Type":"application/json","x-auth":E},body:JSON.stringify(a)},e.next=5,fetch("/eplists/"+Z,n);case 5:return s=e.sent,e.next=8,s.json();case 8:(r=e.sent).success&&(f(r.user),c(r.epList),y(!1));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"DELETE",headers:{"x-auth":E}},e.next=4,fetch("/eplists/"+Z,a);case 4:return n=e.sent,e.next=7,n.json();case 7:(s=e.sent).success&&(f(s.epLists),localStorage.removeItem("list-info"),v(!0));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){N&&e.push("/account")})),Object(n.useEffect)((function(){oe()}),[a]),s.a.createElement("div",{className:"list-data-container"},s.a.createElement("div",{className:"list-details slide-from-left"},a&&j?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"list-edit-form"},s.a.createElement("form",{onSubmit:me,className:"list-edit-form"},s.a.createElement("div",{className:w.isMobile?"ok-cancel-mobile":"ok-cancel"},s.a.createElement("button",{type:"submit",className:"list-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.a})),s.a.createElement("button",{className:"list-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.g,onClick:function(){return y(!1)}}))),s.a.createElement("label",{htmlFor:"listFandom",className:w.isMobile?"margin list-edit-label":"list-edit-label"},"Fandom:",s.a.createElement("input",{type:"text",placeholder:C,onChange:function(e){return ne(e.target.value)}}))))):a?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:w.isMobile?"list-edit-delete-mobile":"list-edit-delete"},s.a.createElement(p.a,{className:"icon-ed-de",title:"edit",icon:d.d,onClick:function(){return y(!0)}}),s.a.createElement(p.a,{className:"icon-ed-de",title:"delete",icon:d.h,onClick:function(e){window.confirm("Are you sure you want to delete item from list?")&&pe(e)}})),s.a.createElement("h2",{className:w.isMobile?"list-h2-mobile":"list-h2"},s.a.createElement("span",{className:"list-title"},"Episodes List:")," ",C)):null,s.a.createElement("div",{className:"list-items-container"},re?re.map((function(e,t){return s.a.createElement(x,{key:t,ep:e})})):null)),s.a.createElement("div",{className:"item-form-container slide-from-right"},s.a.createElement("form",{className:"item-form",onSubmit:ue},s.a.createElement("h2",{className:"h2-item"},"ADD TO THE LIST"),s.a.createElement("label",{className:"item-label"},"Title *",s.a.createElement("input",{className:"item-input",type:"text",value:I,required:!0,placeholder:"episode name...",onChange:function(e){return D(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Season *",s.a.createElement("input",{className:"item-input",type:"text",value:P,required:!0,placeholder:"season number...",onChange:function(e){return H(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Number *",s.a.createElement("input",{className:"item-input",type:"text",value:_,required:!0,placeholder:"episode number...",onChange:function(e){return q(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Why is it a fave?",s.a.createElement("input",{className:"item-input",type:"text",value:W,placeholder:"to help you remember the ep...",onChange:function(e){return Y(e.target.value)}})),s.a.createElement("label",{className:"item-label"},"Link to info",s.a.createElement("input",{className:"item-input",type:"text",value:K,placeholder:"imdb page for example...",onChange:function(e){return Q(e.target.value)}})),s.a.createElement("h5",{className:"h5-item"},"* Required Fields"),s.a.createElement("button",{className:"item-btn",type:"submit"},"ADD"))))},T=a(18),L=a.n(T),F=(a(74),function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),m=u[0],f=u[1],E=function(){var e=Object(r.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c(2),e.prev=2,e.next=5,L.a.post("http://localhost:4000/reset_password/user/"+m,{headers:{"Content-Type":"multipart/form-data"}});case 5:a=e.sent,console.log(a),a.data.success?c(3):alert("Sorry, there was an issue sending the reset email. Please try again later."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("this is the error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"forgotpassword"},3===a?s.a.createElement("p",{className:"submitted"},s.a.createElement(p.a,{icon:d.b,className:"check-icon"}),"Email sent!"):2===a?s.a.createElement("div",{className:"loading-message"},s.a.createElement("p",null,s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"})," Sending email...")):s.a.createElement("form",{className:"reset-form",onSubmit:E},s.a.createElement("label",{className:"reset-pass-label"},s.a.createElement("input",{className:"reset-input",type:"email",value:m,onChange:function(e){return f(e.target.value)},placeholder:"Account's email address"})),s.a.createElement("button",{type:"submit",className:"reset-btn"},"SEND")))}),I=(a(75),function(e){var t=e.match,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],u=c[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),E=f[0],b=f[1],h=Object(n.useState)(1),N=Object(i.a)(h,2),v=N[0],g=N[1],O=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=t.params,s=n.userId,c=n.resetToken,!(o===E&&o.length>=6)){e.next=19;break}return g(2),e.prev=4,e.next=7,L.a.post("".concat("http://localhost:4000","/reset_password/receive_new_password/").concat(s,"/").concat(c),{password:o,headers:{"Content-Type":"multipart/form-data"}});case 7:r=e.sent,console.log(r),r.status?g(3):alert("Sorry, there was an issue updating your password. Please make sure it is longer than 6 characters or try again later."),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("this is the error: ",e.t0);case 16:e.next=20;break;case 19:window.alert("Password doesn't match or is shorter than 6 characters");case 20:case 21:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"update-password"},3===v?s.a.createElement("p",{className:"submitted"},s.a.createElement(p.a,{icon:d.b,className:"check-icon"}),"Password updated! ",s.a.createElement("br",null),"Please login with your new password."):2===v?s.a.createElement("div",{className:"loading-message"},s.a.createElement("p",null,s.a.createElement(p.a,{icon:d.f,spin:!0,className:"spin-icon"})," Updating password...")):s.a.createElement("form",{className:"update-form",onSubmit:O},s.a.createElement("label",{className:"update-pass-label"},s.a.createElement("input",{type:"password",value:o,onChange:function(e){return u(e.target.value)},placeholder:"New password..."})),s.a.createElement("label",{className:"update-pass-label"},s.a.createElement("input",{type:"password",value:E,onChange:function(e){return b(e.target.value)},placeholder:"Retype password..."})),s.a.createElement("button",{type:"submit",className:"update-btn"},"SEND")))}),D=(a(39),function(e){var t=e.el,a=(e.allUsers,e.setAllUsers),c=Object(n.useContext)(m).token,o=Object(n.useState)(!1),u=Object(i.a)(o,2),f=u[0],E=u[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),N=h[0],v=h[1],g=Object(n.useState)(""),O=Object(i.a)(g,2),j=O[0],y=O[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),S=k[0],x=k[1],C=Object(n.useState)(""),T=Object(i.a)(C,2),L=T[0],F=T[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var I=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,s,r,i,o,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=t.username,s=t.role,r=t.email,i=t.password,o=t._id,u={username:""===N?n:N,role:""===j?s:j,email:""===S?r:S,password:""===L?i:L},m={method:"PUT",headers:{"Content-Type":"application/json","x-auth":c},body:JSON.stringify(u)},e.next=6,fetch("/admin/"+o,m);case 6:return p=e.sent,e.next=9,p.json();case 9:e.sent.success&&E(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(l.a.mark((function e(n){var s,r,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s=t._id,r={method:"DELETE",headers:{"x-auth":c}},e.next=5,fetch("/admin/"+s,r);case 5:return i=e.sent,e.next=8,i.json();case 8:(o=e.sent).success&&a(o.users);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"users-cards-container"},f?s.a.createElement(n.Fragment,null,s.a.createElement("div",{className:"item-edit-form"},s.a.createElement("form",{onSubmit:I,className:"item-edit-form"},s.a.createElement("label",{htmlFor:"username",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.username,onChange:function(e){return v(e.target.value)}})),s.a.createElement("label",{htmlFor:"role",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"text",placeholder:t.role,onChange:function(e){return y(e.target.value)}})),s.a.createElement("label",{htmlFor:"email",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"email",placeholder:t.email,onChange:function(e){return x(e.target.value)}})),s.a.createElement("label",{htmlFor:"password",className:"item-edit-label item-edit-label-info"},s.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){return F(e.target.value)}})),s.a.createElement("div",{className:"ok-cancel"},s.a.createElement("button",{type:"submit",className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.a})),s.a.createElement("button",{className:"item-save-button"},s.a.createElement(p.a,{className:"icon-ch-ca",title:"edit",icon:d.g,onClick:function(){return E(!1)}})))))):s.a.createElement(n.Fragment,null,s.a.createElement("ul",{className:"item-card"},s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Username: "),t.username),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Role: "),t.role),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Email: "),t.email),s.a.createElement("li",{className:"item"},s.a.createElement("span",{className:"category"},"Password: "),"...")),s.a.createElement("div",{className:"item-edit-delete"},s.a.createElement(p.a,{className:"icon-ed-de",title:"edit",icon:d.d,onClick:function(){return E(!0)}}),s.a.createElement(p.a,{className:"icon-ed-de",title:"delete",icon:d.h,onClick:function(e){window.confirm("Are you sure you want to delete item from list?")&&D(e)}}))))}),A=function(){var e=Object(n.useContext)(m).token,t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){(function(){var t=Object(r.a)(l.a.mark((function t(){var a,n,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"GET",headers:{"x-auth":e,"Content-Type":"application/json",Accept:"application/json"}},t.next=3,fetch("/admin",a);case 3:return n=t.sent,t.next=6,n.json();case 6:s=t.sent,o(s.users);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),s.a.createElement("div",{className:"admin-board"},s.a.createElement("div",{className:"board-container"},s.a.createElement("h3",{className:"board-title"},"USERS:"),s.a.createElement("div",{className:"users-list"},c&&c.length?s.a.createElement(n.Fragment,null,c.map((function(e,t){return s.a.createElement(D,{className:"user-card",key:t,el:e,allUsers:c,setAllUsers:o})}))):null)))},U=a(15),P=(a(76),function(){Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var e=function(){window.scrollTo({top:0,behavior:"smooth"})},t=function(e){e.preventDefault()};return s.a.createElement("div",{className:"about-container"},s.a.createElement("div",{className:"theme-list slide-from-left"},s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#whatisfanfavorite"},"What is FanFavorite?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#howtocreatelists"},"How to create lists?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#howtocreateaccount"},"How to create an account?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#editpersonalinfo"},"Can I edit my personal info?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#deleteaccount"},"What happens when I delete my account?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#timetostart"},"Why does it take time to initially load?")),s.a.createElement("li",null,s.a.createElement(U.HashLink,{onClick:t,className:"side-link",to:"/about#suggestions"},"Can I suggest changes for FanFavorite?")))),s.a.createElement("div",{className:"questions-container slide-from-right"},s.a.createElement("div",{className:"questions-headline"},s.a.createElement("h3",null,"FANFAVORITE IS HERE"),s.a.createElement("h3",null,"FOR ANY QUESTIONS"),s.a.createElement("h3",null,"YOU MIGHT HAVE"),s.a.createElement("h5",null,"IF YOU CAN'T FIND IT HERE, FEEL FREE TO MAKE A DIRECT",s.a.createElement(U.HashLink,{to:"#footer",className:"contact",scroll:function(e){return e.scrollIntoView({behavior:"smooth",block:"start"})},onClick:t},"CONTACT"))),s.a.createElement("div",{className:"questions"},s.a.createElement("div",{id:"whatisfanfavorite"},s.a.createElement("h4",null,"WHAT IS FANFAVORITE?"),s.a.createElement("p",null,"FanFavorite is a web app created by and for fans who would like to keep all of their favorite fan fiction and episodes in one place, so they're never lost. It started as a small idea for a project to be presented in a portfolio, and grew to be FanFavorite."),s.a.createElement("p",null,"With FanFavorite you wont need to save endless links in your browser. Now it is possible to keep them all in one list, with exact description to make it easy for you to remember them."),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"howtocreatelists"},s.a.createElement("h4",null,"HOW TO CREATE A LIST?"),s.a.createElement("ol",null,s.a.createElement("li",null,"1. ",s.a.createElement(o.Link,{to:"signup"},"Sign up")," with your own account (see next question)."),s.a.createElement("li",null,"2. Click on ADD LIST in the desired category (fan fiction or episodes)."),s.a.createElement("li",null,"3. Give the list the name of the fandom it belongs to."),s.a.createElement("li",null,"3. Once list is created, use the form to add items to it."),s.a.createElement("li",null,"4. You can edit or delete the items and the lists (the info will be permanently changed/deleted)."),s.a.createElement("li",null,"Once you go back to your account's page, you'll be able to see your lists.")),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"howtocreateaccount"},s.a.createElement("h4",null,"HOW TO CREATE AN ACCOUNT?"),s.a.createElement("ol",null,s.a.createElement("li",null,"1. Click on the top navigation bar on 'Sign up'."),s.a.createElement("li",null,"2. Fill in all the required fields."),s.a.createElement("li",null,"3. Click on 'GO'."),s.a.createElement("li",null,"You can edit your info from your account.")),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"editpersonalinfo"},s.a.createElement("h4",null,"CAN I EDIT MY PERSONAL INFO?"),s.a.createElement("p",null,"You can edit your username and password. This is how:"),s.a.createElement("ol",null,s.a.createElement("li",null,"1. Once you're logged in, make sure you're on your account's page."),s.a.createElement("li",null,"2. In the top toolbar click 'EDIT USERNAME' or 'EDIT PASSWORD'."),s.a.createElement("li",null,"3. Click on the check mark to approve, or on the 'x' to cancel editing."),s.a.createElement("li",null,s.a.createElement("strong",null,"* The 'DELETE ACCOUNT' and 'SIGN OUT' buttons are also in the top toolbar."))),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"deleteaccount"},s.a.createElement("h4",null,"WHAT HAPPENS WHEN I DELETE MY ACCOUNT?"),s.a.createElement("p",null,"Deleting your account will permanently delete all of your info and lists, so please make sure it's really what you want."),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"timetostart"},s.a.createElement("h4",null,"WHY DOES IT TAKE TIME FOR THE WEB APP TO INITIALLY LOAD?"),s.a.createElement("p",null,"The app is currently hosted on a free server. Without going into technical details - the server needs about 30 seconds to 'wake up'. Afterwards, it will work without delays."),s.a.createElement("p",null,"Please note that the 'waking up' will happen each time after a certain amount of inactive time."),s.a.createElement("h6",{onClick:e},"Back to top")),s.a.createElement("div",{id:"suggestions"},s.a.createElement("h4",null,"CAN I SUGGEST CHANGES FOR FANFAVORITE?"),s.a.createElement("p",null,"Of course! This web app is for you."),s.a.createElement("p",null,"If you think of a way to improve it, please let me know."),s.a.createElement("p",null,"It would also be much appreciated if you notify me about any bugs you might find."),s.a.createElement("h6",{onClick:e},"Back to top")))))}),H=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],p=Object(n.useState)(!1),d=Object(i.a)(p,2),E=d[0],v=d[1],g=Object(n.useState)(""),w=Object(i.a)(g,2),k=w[0],x=w[1],T=Object(n.useState)(""),L=Object(i.a)(T,2),D=L[0],U=L[1],H=Object(n.useState)(""),J=Object(i.a)(H,2),R=J[0],_=J[1],q=Object(n.useState)(null),G=Object(i.a)(q,2),M=G[0],W=G[1],Y=Object(n.useState)(localStorage.getItem("token")),B=Object(i.a)(Y,2),V=B[0],K=B[1];Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var Q=function(){var e=Object(r.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"x-auth":V,"Content-Type":"application/json",Accept:"application/json"}},e.next=3,fetch("/users",t);case 3:return a=e.sent,e.next=6,a.json();case 6:(n=e.sent).success&&(W(n.user),U(n.user.epsLists),x(n.user.ficLists));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){V&&(c(!0),Q())}),[]),Object(n.useEffect)((function(){Q()}),[M]),s.a.createElement("div",{className:"App"},s.a.createElement(m.Provider,{value:{userFicLists:k,setUserFicLists:x,userEpLists:D,setUserEpLists:U,listInfo:R,setListInfo:_,userData:M,setUserData:W,getUserData:Q,token:V,setToken:K,isAdmin:E,setIsAdmin:v,loggedIn:a,setLoggedIn:c}},s.a.createElement(o.BrowserRouter,null,s.a.createElement(f,null),s.a.createElement(u.g,null,s.a.createElement(u.d,{path:"/",exact:!0,component:h}),s.a.createElement(u.d,{path:"/signup",exact:!0,component:N}),s.a.createElement(u.d,{path:"/account",exact:!0,component:O}),s.a.createElement(u.d,{path:"/admin",exact:!0,component:A}),s.a.createElement(u.d,{path:"/addficlist",exact:!0,component:j}),s.a.createElement(u.d,{path:"/addepslist",exact:!0,component:y}),s.a.createElement(u.d,{path:"/ficlist",exact:!0,component:S}),s.a.createElement(u.d,{path:"/eplist",exact:!0,component:C}),s.a.createElement(u.d,{path:"/about",exact:!0,component:P}),s.a.createElement(u.d,{path:"/reset_password",exact:!0,component:F}),s.a.createElement(u.d,{path:"/password/reset/:userId/:resetToken",exact:!0,component:I})),s.a.createElement("div",{id:"footer"},s.a.createElement(b,null)))))},J=a(41);a.n(J).a.render(s.a.createElement(H,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.137221fa.chunk.js.map